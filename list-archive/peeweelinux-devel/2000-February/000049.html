<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> RPM Loader Script - V0.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:PeeWeeLinux-devel%40adis.on.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000048.html">
   <LINK REL="Next"  HREF="000050.html">
<!-- Google_Analytics -->
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<!-- AdSense_Archive_Slot -->
   <H1>RPM Loader Script - V0.1
   </H1>
    <B>Adi Linden
    </B> 
    <A HREF="mailto:PeeWeeLinux-devel%40adis.on.ca"
       TITLE="RPM Loader Script - V0.1">PeeWeeLinux-devel@adis.on.ca
       </A><BR>
    <I>Thu, 3 Feb 2000 00:15:51 -0600 (CST)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000048.html">RPM Loader Script - V0.1
</A></li>
        <LI> Next message: <A HREF="000050.html">RPM Loader Script - V0.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49">[ date ]</a>
              <a href="thread.html#49">[ thread ]</a>
              <a href="subject.html#49">[ subject ]</a>
              <a href="author.html#49">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> Just thought I'd update you on my latest script.
</I>&gt;<i> I wrote this today so I could build my fvwm2 package.
</I>&gt;<i> So far...
</I>&gt;<i> 
</I>&gt;<i> pwl_rpmload EXE fvwm2
</I>&gt;<i> 
</I>&gt;<i> copies the RPM file from the RH disk, installs it
</I>&gt;<i> and copies the files into:
</I>&gt;<i> 
</I>&gt;<i> Embedded_Build/sources/fvwm2
</I>&gt;<i> 
</I>&gt;<i> Files created here include:
</I>&gt;<i> 
</I>&gt;<i> fvwm2-3.0.5-15.i386.rpm
</I>&gt;<i> -- the rpm copied from Red Hat (if the package is not installed)
</I>&gt;<i> fvwm2-3.0.5-15.pkg_list
</I>&gt;<i> -- list of files from the package (without man/doc/info files)
</I>&gt;<i> fvwm2-3.0.5-15.pkg_dep_list
</I>&gt;<i> -- not created yet, piped to the screen - list of dependencies reported
</I>&gt;<i>    by rpm
</I>&gt;<i> fvwm2.pkg_files
</I>&gt;<i> -- directory containg the files to be tarred for the package.
</I>
The problem with using binary rpms is that they might require PAM and/or
ncurses...

&gt;<i> Note: the xxx.pkg.list file is not changed if it already exists.
</I>&gt;<i> Thus, when you figure out which other files don't belong in the
</I>&gt;<i> package, you can edit this file.  THIS FILE IS ALL YOU NEED if you
</I>&gt;<i> have RH install disk!
</I>
Neat!

&gt;<i> To Do: find each of the dependent files on your system and copy them
</I>&gt;<i> into the dependencies directory. (HOW DO YOU FIND FILES ?? Locate??)
</I>&gt;<i> Package the dependencies as  xxx.libs or something and install that 
</I>&gt;<i> as another package, i.e.
</I>
You do 'ldd binary_name' or 'ldd lib_name'. That will result in a bunch of
libs required for those libs and binaries to function. The 'file' command
will tell you if the libs or binaries are stripped. The stripping can be
done with 'objcopy' or 'strip'...

&gt;<i> To Do: load the source rpm, install it, copy the source files
</I>&gt;<i> and compile everything.  Then copy the binaries from the SRC 
</I>&gt;<i> directory into the pkg.files directory.....
</I>
Yup, that would be the best way of doing it. Or... download the original
sources and compile from scratch. Then make a build script and a patch
file... Otherwise it might get messy if we build some packages from rpm
and others from tar...

&gt;<i> To Do: 
</I>&gt;<i> I need to integrate this script, with the &quot;package&quot; script (should we
</I>&gt;<i> change this to pwl_package?? ) under the &quot;Package Management&quot; Main
</I>&gt;<i> menu Item.
</I>
package just creates a package from the contents of Embedded_Build/mnt
doesn't it?

TTYL,
Adi

---------------------------------------------------
See the list archives at <A HREF="http://adis.on.ca/archives/">http://adis.on.ca/archives/</A>
See the PWL homepage at  <A HREF="http://embedded.adis.on.ca">http://embedded.adis.on.ca</A>
---------------------------------------------------

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000048.html">RPM Loader Script - V0.1
</A></li>
	<LI> Next message: <A HREF="000050.html">RPM Loader Script - V0.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49">[ date ]</a>
              <a href="thread.html#49">[ thread ]</a>
              <a href="subject.html#49">[ subject ]</a>
              <a href="author.html#49">[ author ]</a>
         </LI>
       </UL>
</body></html>
