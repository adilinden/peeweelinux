From PeeWeeLinux-devel@adis.on.ca  Tue Feb  1 02:02:34 2000
From: PeeWeeLinux-devel@adis.on.ca (Ralph Stickley)
Date: Mon, 31 Jan 2000 18:02:34 -0800 (PST)
Subject: X startup stuff - questions
Message-ID: <20000201020235.22619.qmail@web1105.mail.yahoo.com>


> > 3. mknod /dev/mouse c 10 1
> 
> Wouldn't the above be part of the installation process of putting X onto
> the flash device/into the filesystem?
> 

I hadn't thought of that...the /dev/mouse /dev/usb ... stuff that X uses
would be part of the X package. Good fit!

I did notice that the normal RH devices directory 
contains an ungodly number of nodes in it.  Also, configuring the
_base_filesystem takes a while because of the large number of files included in
this.

Would it make sense to have a _devices package ? This would shrink the size of
_base_filesystem file and configuring both would be quicker.


> > 4. insmod unix.o 
> > 5. xfs -droppriv -daemon -port -1
> > 6. XF86_SVGA
> 
> I would do a startup script to run from the etc/rcS.d directory. All
> scripts in there are run automatically at startup in alphanumerical order.
> To have good control over what runs when they're numbered, like: 05modules
> 20firewall, etc....
>

 Oh...there they be...in my standard RH, I have XFS and gpm(which I don't know
if I need or not).  Now I just have to go back and dig into the magic that is
RH Init stuff...insmod doesn't seem to get called...geeze, could this *be* more
confusing? (QNX has a very clean startup process conpared to this, but I guess
thats the price you pay for flexibility!)

Thanks,
Ralph
__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Tue Feb  1 14:52:41 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Tue, 1 Feb 2000 08:52:41 -0600 (CST)
Subject: X startup stuff - questions
In-Reply-To: <20000201020235.22619.qmail@web1105.mail.yahoo.com>
Message-ID: <Pine.LNX.4.10.10002010844570.7497-100000@direcpc.adis.on.ca>

Hi Ralph,

> > > 3. mknod /dev/mouse c 10 1
> > 
> > Wouldn't the above be part of the installation process of putting X onto
> > the flash device/into the filesystem?
> > 
> 
> I hadn't thought of that...the /dev/mouse /dev/usb ... stuff that X uses
> would be part of the X package. Good fit!
> 
> I did notice that the normal RH devices directory 
> contains an ungodly number of nodes in it.  Also, configuring the
> _base_filesystem takes a while because of the large number of files included in
> this.
> 
> Would it make sense to have a _devices package ? This would shrink the size of
> _base_filesystem file and configuring both would be quicker.

There isn't much else to the base_filesystem other than the devices. Also,
the devices included in the base_filesystem are a subset of what's
included with a 'normal' Linux install. Unusual devices are usually
included with the individual packages. I.e. a kernel image with DOC
support also includes /dev/fla0, etc...

> > > 4. insmod unix.o 
> > > 5. xfs -droppriv -daemon -port -1
> > > 6. XF86_SVGA
> > 
> > I would do a startup script to run from the etc/rcS.d directory. All
> > scripts in there are run automatically at startup in alphanumerical order.
> > To have good control over what runs when they're numbered, like: 05modules
> > 20firewall, etc....
> >
> 
>  Oh...there they be...in my standard RH, I have XFS and gpm(which I don't know
> if I need or not).  Now I just have to go back and dig into the magic that is
> RH Init stuff...insmod doesn't seem to get called...geeze, could this *be* more
> confusing? (QNX has a very clean startup process conpared to this, but I guess
> thats the price you pay for flexibility!)

Yup, except the RH startup is quite complex. A lot of the stuff included
in /etc/rc.d/init.d/gpm and /etc/rc.d/init.d/xfs can be stripped. For
example, with PeeWeeLinux I don't expect daemons to be shutdown
gracefully. Mind you, for compatibility reasons rcS calls all startup
script with the 'start' command line argument. Also, RH uses some
functions included in /etc/rc.d/init.d/functions. Either the startup
scripts have to be rewritten or the .../fuctions script also has to be
copied to /etc/rcS.d/. Makes sense? To recap for a really quick and dirty
start just copy the following files to /etc/rcS.d:

/etc/rc.d/init.d/functions
/etc/rc.d/init.d/gpm
/etc/rc.d/init.d/xfs

For a PeeWeeLinux package I would remove the functions script and rewrite
gpm and xfs to not rely on functions and to simply start the service, none
of the other functions.

TTYL,
Adi

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Tue Feb  1 20:27:54 2000
From: PeeWeeLinux-devel@adis.on.ca (Ralph Stickley)
Date: Tue, 1 Feb 2000 12:27:54 -0800 (PST)
Subject: X11-Package works!
Message-ID: <20000201202754.3929.qmail@web1102.mail.yahoo.com>

Hey,

Just to let you know, I have updated the scripts/package program
to build a package from any directory.  I built the X11 package
using this, but it is 12MB+. Here's what I did (from Embedded_Build
directory)

mkdir sources
mkdir sources/X11
mkdir sources/X11/etc/X11
mkdir sources/X11/lib
mkdir sources/X11/dev
mkdir sources/X11/usr

Then I copied all the X files I had working on my flash disk into 
this directory structure.

./scripts/package sources/X11

Created the packages/X11.tar and packages/X11.list.  I think another
command line option would be to specify a name seperate from the directory.

ie. (not yet:) ./scripts/package sources/X11 X11-3.3.5.tar

or I should just rename my X11 directory..not sure there.

ANyhow, my new package works!  Now its on to building an fvwm package.

Later,
Ralph

Upgrades attached...will be include with next pwlconfig release too:-)

At this point we are desperately needing CVS going!!! I wish my linux
box could get on the network (I think I need to wear socks or something ?)



__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Tue Feb  1 20:56:12 2000
From: PeeWeeLinux-devel@adis.on.ca (Ralph Stickley)
Date: Tue, 1 Feb 2000 12:56:12 -0800 (PST)
Subject: X11-Package works!-  w/attachments
Message-ID: <20000201205612.2242.qmail@web1103.mail.yahoo.com>

--0-1804289383-949438572=:2221
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

oops, always forget to do that attach thingy...


--- Ralph Stickley <r_stickley@yahoo.com> wrote:
> Hey,
> 
> Just to let you know, I have updated the scripts/package program
> to build a package from any directory.  I built the X11 package
> using this, but it is 12MB+. Here's what I did (from Embedded_Build
> directory)
> 
> mkdir sources
> mkdir sources/X11
> mkdir sources/X11/etc/X11
> mkdir sources/X11/lib
> mkdir sources/X11/dev
> mkdir sources/X11/usr
> 
> Then I copied all the X files I had working on my flash disk into 
> this directory structure.
> 
> ./scripts/package sources/X11
> 
> Created the packages/X11.tar and packages/X11.list.  I think another
> command line option would be to specify a name seperate from the directory.
> 
> ie. (not yet:) ./scripts/package sources/X11 X11-3.3.5.tar
> 
> or I should just rename my X11 directory..not sure there.
> 
> ANyhow, my new package works!  Now its on to building an fvwm package.
> 
> Later,
> Ralph
> 
> Upgrades attached...will be include with next pwlconfig release too:-)
> 
> At this point we are desperately needing CVS going!!! I wish my linux
> box could get on the network (I think I need to wear socks or something ?)
> 

> 
__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
--0-1804289383-949438572=:2221
Content-Type: application/x-zip-compressed; name="misc_sh.zip"
Content-Transfer-Encoding: base64
Content-Description: misc_sh.zip
Content-Disposition: attachment; filename="misc_sh.zip"

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
AK0AAABuFQAAAAA=

--0-1804289383-949438572=:2221--
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Thu Feb  3 06:02:28 2000
From: PeeWeeLinux-devel@adis.on.ca (Ralph Stickley)
Date: Wed, 2 Feb 2000 22:02:28 -0800 (PST)
Subject: RPM Loader Script - V0.1
Message-ID: <20000203060228.9734.qmail@web1105.mail.yahoo.com>

--0-1804289383-949557748=:9715
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

Hey,
Just thought I'd update you on my latest script.
I wrote this today so I could build my fvwm2 package.
So far...

pwl_rpmload EXE fvwm2

copies the RPM file from the RH disk, installs it
and copies the files into:

Embedded_Build/sources/fvwm2

Files created here include:

fvwm2-3.0.5-15.i386.rpm
-- the rpm copied from Red Hat (if the package is not installed)
fvwm2-3.0.5-15.pkg_list
-- list of files from the package (without man/doc/info files)
fvwm2-3.0.5-15.pkg_dep_list
-- not created yet, piped to the screen - list of dependencies reported
   by rpm
fvwm2.pkg_files
-- directory containg the files to be tarred for the package.


Note: the xxx.pkg.list file is not changed if it already exists.
Thus, when you figure out which other files don't belong in the
package, you can edit this file.  THIS FILE IS ALL YOU NEED if you
have RH install disk!

To Do: find each of the dependent files on your system and copy them
into the dependencies directory. (HOW DO YOU FIND FILES ?? Locate??)
Package the dependencies as  xxx.libs or something and install that 
as another package, i.e.

X11/fvwm2.tar
X11/fvwm2-libs.tar

To Do: load the source rpm, install it, copy the source files
and compile everything.  Then copy the binaries from the SRC 
directory into the pkg.files directory.....

To Do: 
I need to integrate this script, with the "package" script (should we
change this to pwl_package?? ) under the "Package Management" Main
menu Item.

Let me know if you have any suggestions on how this should work.
or any bugs you might find.

Thanks,
Ralph

=========
Example:

As a quick way to test this I can do the following with expected results:

rpm -e zsh          # remove Z shell previously installed
rm -rf sources      # for testing only!!!

and any of the following:

pwl_rpmload EXE zsh           # finds first version on RH disk
pwl_rpmload EXE zsh 3.0.5-15  # specify a version
pwl_rpmload Exe zsh 3.0.99    # version not found

Theses all work if zsh is installed or not, or if the RPM has been
previously copied or if the files list has been changed manually.
=============


__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
--0-1804289383-949557748=:9715
Content-Type: application/x-unknown; name="pwl_rpmload.tgz"
Content-Transfer-Encoding: base64
Content-Description: pwl_rpmload.tgz
Content-Disposition: attachment; filename="pwl_rpmload.tgz"

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
lQAoAAA=

--0-1804289383-949557748=:9715--
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Thu Feb  3 06:15:51 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Thu, 3 Feb 2000 00:15:51 -0600 (CST)
Subject: RPM Loader Script - V0.1
In-Reply-To: <20000203060228.9734.qmail@web1105.mail.yahoo.com>
Message-ID: <Pine.LNX.4.10.10002030006470.8023-100000@localhost.localdomain>

Hi,

> Just thought I'd update you on my latest script.
> I wrote this today so I could build my fvwm2 package.
> So far...
> 
> pwl_rpmload EXE fvwm2
> 
> copies the RPM file from the RH disk, installs it
> and copies the files into:
> 
> Embedded_Build/sources/fvwm2
> 
> Files created here include:
> 
> fvwm2-3.0.5-15.i386.rpm
> -- the rpm copied from Red Hat (if the package is not installed)
> fvwm2-3.0.5-15.pkg_list
> -- list of files from the package (without man/doc/info files)
> fvwm2-3.0.5-15.pkg_dep_list
> -- not created yet, piped to the screen - list of dependencies reported
>    by rpm
> fvwm2.pkg_files
> -- directory containg the files to be tarred for the package.

The problem with using binary rpms is that they might require PAM and/or
ncurses...

> Note: the xxx.pkg.list file is not changed if it already exists.
> Thus, when you figure out which other files don't belong in the
> package, you can edit this file.  THIS FILE IS ALL YOU NEED if you
> have RH install disk!

Neat!

> To Do: find each of the dependent files on your system and copy them
> into the dependencies directory. (HOW DO YOU FIND FILES ?? Locate??)
> Package the dependencies as  xxx.libs or something and install that 
> as another package, i.e.

You do 'ldd binary_name' or 'ldd lib_name'. That will result in a bunch of
libs required for those libs and binaries to function. The 'file' command
will tell you if the libs or binaries are stripped. The stripping can be
done with 'objcopy' or 'strip'...

> To Do: load the source rpm, install it, copy the source files
> and compile everything.  Then copy the binaries from the SRC 
> directory into the pkg.files directory.....

Yup, that would be the best way of doing it. Or... download the original
sources and compile from scratch. Then make a build script and a patch
file... Otherwise it might get messy if we build some packages from rpm
and others from tar...

> To Do: 
> I need to integrate this script, with the "package" script (should we
> change this to pwl_package?? ) under the "Package Management" Main
> menu Item.

package just creates a package from the contents of Embedded_Build/mnt
doesn't it?

TTYL,
Adi

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Thu Feb  3 06:44:03 2000
From: PeeWeeLinux-devel@adis.on.ca (Ralph Stickley)
Date: Wed, 2 Feb 2000 22:44:03 -0800 (PST)
Subject: RPM Loader Script - V0.1
Message-ID: <20000203064403.117.qmail@web1106.mail.yahoo.com>


> The problem with using binary rpms is that they might require PAM and/or
> ncurses...
>

awww..geeze, hadn't though of that...well, this might work for *Some* rpms...
If you get a chance to run:
./scripts/pwl_rpmload EXE fvwm2

maybe you could tell me what needs to be done here (or script it :-))
to build all the files I need.  I was going to install the package
tomorrow and see if it works (slow, painful process for me).

> You do 'ldd binary_name' or 'ldd lib_name'. That will result in a bunch of
> libs required for those libs and binaries to function. The 'file' command
> will tell you if the libs or binaries are stripped. The stripping can be
> done with 'objcopy' or 'strip'...
> 

Hmmmm...I got statically linked on a few of them...I think this is 
going to be a manual process for a while. I'll build the depends file, 
if you can think of any other automation I can add, let me know..
PWL Package building...job security for linux hackers!

> > To Do: load the source rpm, install it, copy the source files
> > and compile everything.  Then copy the binaries from the SRC 
> > directory into the pkg.files directory.....
> 
> Yup, that would be the best way of doing it. Or... download the original
> sources and compile from scratch. Then make a build script and a patch
> file... Otherwise it might get messy if we build some packages from rpm
> and others from tar...
> 
Hey, if you have a link to each of the source files...we can ftp them
over instead of using the RH CD...not bad...I guess RH does some 
changes from the originals, not sure of other advantages of ftp vs RH RPM...

> > To Do: 
> > I need to integrate this script, with the "package" script (should we
> > change this to pwl_package?? ) under the "Package Management" Main
> > menu Item.
> 
> package just creates a package from the contents of Embedded_Build/mnt
> doesn't it

yep..but my lastest version of your original lets you pass in the
directory you want to package...ie:

./scripts/rpm_load EXE fvwm2
./scripts/package fvwm2

Creates:
fvwm2.list 
fvwm2.tar  (1.1Mb - ouch again!)

Anyhow, I guess this is the "idiots tool for package building" (just 
my speed :-) your packages are still the best! But, Hey, if you 
have 128MB flash disk...

Later,
Ralph

__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Thu Feb  3 14:45:39 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Thu, 3 Feb 2000 08:45:39 -0600 (CST)
Subject: RPM Loader Script - V0.1
In-Reply-To: <20000203064403.117.qmail@web1106.mail.yahoo.com>
Message-ID: <Pine.LNX.4.10.10002030827100.9810-100000@localhost.localdomain>

Hi Ralph,

> > The problem with using binary rpms is that they might require PAM and/or
> > ncurses...
> >
> 
> awww..geeze, hadn't though of that...well, this might work for *Some* rpms...
> If you get a chance to run:
> ./scripts/pwl_rpmload EXE fvwm2
> 
> maybe you could tell me what needs to be done here (or script it :-))
> to build all the files I need.  I was going to install the package
> tomorrow and see if it works (slow, painful process for me).

Here's what I am doing. I'd like PeeWeeLinux to become a platform that can
be build entirely from sources. My goal would be a distibution where you
can run a single script to build all packages from sources.

Still the question is if PeeWeeLinux should be based on Redhat source RPMS
or generic tar balls and patches of packes.

Until then I am building packages more for my own consumption. I guess how
you build them shouldn't matter. The way I did the original packages was
to simply copy libs and binaries from my running Redhat systems
directories into the Embedded_Build/mnt directory. The I wrote my own
startup scripts which were much less complex than what RedHat has done.

> > You do 'ldd binary_name' or 'ldd lib_name'. That will result in a bunch of
> > libs required for those libs and binaries to function. The 'file' command
> > will tell you if the libs or binaries are stripped. The stripping can be
> > done with 'objcopy' or 'strip'...
> > 
> 
> Hmmmm...I got statically linked on a few of them...I think this is 
> going to be a manual process for a while. I'll build the depends file, 
> if you can think of any other automation I can add, let me know..
> PWL Package building...job security for linux hackers!

Makes them pretty big! Your X is 16M? Yup, it's a painstaking manual
process. Scripting would be a bit of a pain since you would need a custom
script for each package. It makes reproducing the package easier. But
then, that why I did PWL in the very beginning, so I didn't have to do the
manual prosess of selecting and stripping executables and checking for
dependencies every single time I build a project.

PeeWeeLinux has met it's original goal of why I build it. I still think
that it's worthwhile to develop it further by automating the build from
sources once the original build has been done. That would also make it
possible to establish guidelines for contributed packages and what's
expected from them....

> > > To Do: load the source rpm, install it, copy the source files
> > > and compile everything.  Then copy the binaries from the SRC 
> > > directory into the pkg.files directory.....
> > 
> > Yup, that would be the best way of doing it. Or... download the original
> > sources and compile from scratch. Then make a build script and a patch
> > file... Otherwise it might get messy if we build some packages from rpm
> > and others from tar...
> > 
> Hey, if you have a link to each of the source files...we can ftp them
> over instead of using the RH CD...not bad...I guess RH does some 
> changes from the originals, not sure of other advantages of ftp vs RH RPM...

The changes Redhat did to the Redhat RPMS are in the form of patches.
Sooo, it's easy to build whatever you like from the source rpm because the
original tar ball is still there (plus a number patches, some redhat some
not).

I guess one way to build packages would be to take the source rpm and
extract the original tarball and non-redhat specific patches... Then keep
these as the PWL sources and build our packages from the tar files...

Or use rpm and build redhat rpms for every package that's not part of
RedHat (elvis-tiny, busybox, tinylogin, to name a few that instantly come
to mind)

The nice thin about Redhat rpms is they compile as is. With orignal tar
balls quite often they have to be 'fixed' before they will compile....

> Anyhow, I guess this is the "idiots tool for package building" (just 
> my speed :-) your packages are still the best! But, Hey, if you 
> have 128MB flash disk...

Almost fit a Gnome workstation on that sucker... Just have to rmember not
to use swap space on flash then :) 

BTW, someone asked me that question... seriously! If 32MB of RAM isn't
enough, couldn't we use a 64MB flash drive and make a 32MB swap partition?
Interesting thought, eh...?  Ouch... :)

TTYL,
Adi

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Thu Feb  3 16:22:48 2000
From: PeeWeeLinux-devel@adis.on.ca (Ralph Stickley)
Date: Thu, 3 Feb 2000 08:22:48 -0800 (PST)
Subject: RPM Loader Script - V0.1
Message-ID: <20000203162248.26252.qmail@web1106.mail.yahoo.com>


> 
> Here's what I am doing. I'd like PeeWeeLinux to become a platform that can
> be build entirely from sources. My goal would be a distibution where you
> can run a single script to build all packages from sources.
> 

?? 
If the optimized list of files for an RPM are manually generated, the package
files created by pwl_rpmloader *should* be close in size to the manually
compiled files (+ 10% maybe).

The problem is removing dependencies (link ncurses, pam) - these have to
be "compiled out".
??
Is that a reasonable summary ?? Hmmmm...

If we have to use the source tars (w/o RH patches) to get rid of
the pam secuirity and whatever else, thats no problem for me. However,
actually compiling the programs I'd rather not do if I don't have to...
but then, I'm not counting bytes here, only Mega bytes....A truely
memory restrained embedded system might be more concerned with size.

> Still the question is if PeeWeeLinux should be based on Redhat source RPMS
> or generic tar balls and patches of packes.
> 
> Until then I am building packages more for my own consumption. 

Yep, and as more and more people build packages (Hey, my package is 
smaller than YOUR package!) the package sources will continue to grow
in number and shrink in size :-)

> Makes them pretty big! Your X is 16M? 

Ummm...well, its only 10M now that I don't have 3 copies of all the lib 
files (somewhere along the line, I didn't do a cp -ax, and the links weren't
copied, the files were duplicated)...my X11 package file is getting smaller!

> Yup, it's a painstaking manual
> process. Scripting would be a bit of a pain since you would need a custom
> script for each package. It makes reproducing the package easier. But
> then, that why I did PWL in the very beginning, so I didn't have to do the
> manual prosess of selecting and stripping executables and checking for
> dependencies every single time I build a project.
> 

The key here is that this *painful process* need only be done once...
Is it time to start to ask for help / Announce Pee Wee to a 
bunch of news groups /mailing lists ?? (Pee Wee Comes out of the closet!)

Maybe after I integrate the package stuff and the ram disk stuff...and
we get a few projects working...of course, we can always come up with 
more features...We need a marketing guy to say STOP, SHIP it NOW!:-)

"Software programs are never finished...only abandoned"


> PeeWeeLinux has met it's original goal of why I build it. I still think
> that it's worthwhile to develop it further by automating the build from
> sources once the original build has been done. That would also make it
> possible to establish guidelines for contributed packages and what's
> expected from them....
> 
Hmmm... a true "raw" distribution...sounds tough, but if we have patch
files, ftp sites...doesn't sound too hard (just send me your patches!).

> > > > To Do: load the source rpm, install it, copy the source files
> > > > and compile everything.  Then copy the binaries from the SRC 
> > > > directory into the pkg.files directory.....
> > > 
> > > Yup, that would be the best way of doing it. Or... download the original
> > > sources and compile from scratch. Then make a build script and a patch
> > > file... Otherwise it might get messy if we build some packages from rpm
> > > and others from tar...
> > > 
> > Hey, if you have a link to each of the source files...we can ftp them
> > over instead of using the RH CD...not bad...I guess RH does some 
> > changes from the originals, not sure of other advantages of ftp vs RH
> RPM...
> 
> The changes Redhat did to the Redhat RPMS are in the form of patches.
> Sooo, it's easy to build whatever you like from the source rpm because the
> original tar ball is still there (plus a number patches, some redhat some
> not).
> 
> I guess one way to build packages would be to take the source rpm and
> extract the original tarball and non-redhat specific patches... Then keep
> these as the PWL sources and build our packages from the tar files...
> 
> Or use rpm and build redhat rpms for every package that's not part of
> RedHat (elvis-tiny, busybox, tinylogin, to name a few that instantly come
> to mind)
> 
Not bad...then we don't have to stop at RH, but all the rpm stuff still
works..

> The nice thin about Redhat rpms is they compile as is. With orignal tar
> balls quite often they have to be 'fixed' before they will compile....
> 
Geeze, thats handy!

> > Anyhow, I guess this is the "idiots tool for package building" (just 
> > my speed :-) your packages are still the best! But, Hey, if you 
> > have 128MB flash disk...
> 
> Almost fit a Gnome workstation on that sucker... Just have to rmember not
> to use swap space on flash then :) 
> 
I'd be happy to get fvwm2 working!!!

> BTW, someone asked me that question... seriously! If 32MB of RAM isn't
> enough, couldn't we use a 64MB flash drive and make a 32MB swap partition?
> Interesting thought, eh...?  Ouch... :)
> 
Maybe they could add a hard disk for the swap space ?;-)

Later,
Ralph
__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Thu Feb  3 18:08:21 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Thu, 3 Feb 2000 12:08:21 -0600 (CST)
Subject: RPM Loader Script - V0.1
In-Reply-To: <20000203162248.26252.qmail@web1106.mail.yahoo.com>
Message-ID: <Pine.LNX.4.10.10002031143490.908-100000@direcpc.adis.on.ca>

Hi Ralph,

> > Here's what I am doing. I'd like PeeWeeLinux to become a platform that can
> > be build entirely from sources. My goal would be a distibution where you
> > can run a single script to build all packages from sources.
> 
> ?? 
> If the optimized list of files for an RPM are manually generated, the package
> files created by pwl_rpmloader *should* be close in size to the manually
> compiled files (+ 10% maybe).

Unless you need to include additional libs that are purposely left out of
PWL.

> The problem is removing dependencies (link ncurses, pam) - these have to
> be "compiled out".
> ??
> Is that a reasonable summary ?? Hmmmm...

Correct.

> If we have to use the source tars (w/o RH patches) to get rid of
> the pam secuirity and whatever else, thats no problem for me. However,
> actually compiling the programs I'd rather not do if I don't have to...
> but then, I'm not counting bytes here, only Mega bytes....A truely
> memory restrained embedded system might be more concerned with size.

The compile process would only have to be once, to build the package. The
PeeWeeLinux binary distribution includes all the pre-compiled binaries
within the packages.

But all PeeWeeLinux packages should be build from source tar balls or
source rpms, I think. None of the copying from a running system or a
binary rpm.

> Yep, and as more and more people build packages (Hey, my package is 
> smaller than YOUR package!) the package sources will continue to grow
> in number and shrink in size :-)

There is only so much you can do as far as size is concerned without
starting to cut on the functionality. But as people compile there 'own'
packages and contribute those the list of available, supported packages
should grow.

I think the key to that happening is to have a well defined and documented
process of how to create a PeeWeeLinux package.

So as far as creating packages is concerned this has become a rather
urgent thing to be decided on. Since the build process for packages should
be reproduceable. So here is what needs to be done:

Raw Sources           --->  PeeWeeLinux Sources
PeeWeeLinux Sources   --->  PeeWeeLinux Binaries
PeeWeeLinux Binaries  --->  PeeWeeLinux Packages

1. What do we use for Raw sources?
  a. Source tarballs
     We can extract the tarballs from Redhat source rpms where
     source rpms exist.
  b. Redhat RPMS
     Where source rpms don't exist we have to create either
     Redhat RPMS or Source RPMS first

2. Do we create and keep PeeWeeLinux sources (already patched
   and ready to compile?). Or do we keep the original sources
   and apply PeeWeeLinux patches?

3. Do we create PeeWeeLinux tar packages or PeeWeeLinux rpms
   (both binaries)?

> > Yup, it's a painstaking manual
> > process. Scripting would be a bit of a pain since you would need a custom
> > script for each package. It makes reproducing the package easier. But
> > then, that why I did PWL in the very beginning, so I didn't have to do the
> > manual prosess of selecting and stripping executables and checking for
> > dependencies every single time I build a project.
> 
> The key here is that this *painful process* need only be done once...

That's correct. But what we use to start with and what it results in
should be well defined. I looked at the Linux Router Project and I thought
making LPR packages is a mess. I don't want the same for PeeWeeLinux.

The easier the process is to follow the more likely people will contribute
a complete set of sources/patches/binaries for PeeWeeLinux...

> Is it time to start to ask for help / Announce Pee Wee to a 
> bunch of news groups /mailing lists ?? (Pee Wee Comes out of the closet!)

It's still far from a plug-and-play solution. I think I'd rather stick to
announcing updates on freshmeat for now.

> Maybe after I integrate the package stuff and the ram disk stuff...and
> we get a few projects working...of course, we can always come up with 
> more features...We need a marketing guy to say STOP, SHIP it NOW!:-)
> 
> "Software programs are never finished...only abandoned"

I think it'll be never finished. But the framework needs to be
established.

> > PeeWeeLinux has met it's original goal of why I build it. I still think
> > that it's worthwhile to develop it further by automating the build from
> > sources once the original build has been done. That would also make it
> > possible to establish guidelines for contributed packages and what's
> > expected from them....
> > 
> Hmmm... a true "raw" distribution...sounds tough, but if we have patch
> files, ftp sites...doesn't sound too hard (just send me your patches!).

The question is do I want the hassle of making it distribution
independent? I think if someone wants to compile it on Caldera they're on
their own to make it work but share the results and create a PeeWeeLinux
for Caldera :)

Since the system is build on Redhat 6.1 it's dependednt on the installed
libs, etc. So the development system as far as compiling anything is a
Redhat 6.1.

> > The nice thin about Redhat rpms is they compile as is. With orignal tar
> > balls quite often they have to be 'fixed' before they will compile....
> > 
> Geeze, thats handy!

Yup.

TTYL,
Adi

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Thu Feb  3 18:42:49 2000
From: PeeWeeLinux-devel@adis.on.ca (Ralph Stickley)
Date: Thu, 3 Feb 2000 10:42:49 -0800 (PST)
Subject: RPM Loader Script - V0.1
Message-ID: <20000203184249.14458.qmail@web1103.mail.yahoo.com>



--- Adi Linden <adi@adis.on.ca> wrote:
> Hi Ralph,
> 
> > > Here's what I am doing. I'd like PeeWeeLinux to become a platform that
> Unless you need to include additional libs that are purposely left out of
> PWL.
> 
oops, left those out too:-)
...one thing I was thinking would be helpful..search the *.list files
in the packages directory to find a specific file.  If that file is found,
then I can prompt the user to include the package/file in their configuration.

(OR include the package/file in the new "package-dep.tar" ?? it would be 
duplicated, but it doesn't affect the extract process..)

Now, if it is a completely new file, not part of any pwl packages, I can
do a locate on their hard drive and copy it. OR is there an RPM that 
contains the library files ? Hmmmmm...

Again, so far I'm only concerning myself with binaries....

> But all PeeWeeLinux packages should be build from source tar balls or
> source rpms, I think. None of the copying from a running system or a
> binary rpm.
> 
that would be optimial...but my current process
pwl_rpmloader
package
is a quick way to build a package to run and test.  Optimize them after
they are working...

> 
> I think the key to that happening is to have a well defined and documented
> process of how to create a PeeWeeLinux package.
> 

The best documentation is if we can script it "generically".  In order
to script a "rebuild" of packages xyz, all I need is a patch file, maybe
a short xyz script that I can run...

Then to build a package, the package maker must:
1. create a patch file
2. create a make_pkg file that handles all the uniqueness for the package.

I'd have to see a patch and make_pkg to integrate it, since I've never 
actually compiled anything :-)

> So as far as creating packages is concerned this has become a rather
> urgent thing to be decided on. Since the build process for packages should
> be reproduceable. So here is what needs to be done:
> 
> Raw Sources           --->  PeeWeeLinux Sources
> PeeWeeLinux Sources   --->  PeeWeeLinux Binaries
> PeeWeeLinux Binaries  --->  PeeWeeLinux Packages
Nearly done on the last step!

> 
> 1. What do we use for Raw sources?
>   a. Source tarballs
>      We can extract the tarballs from Redhat source rpms where
>      source rpms exist.
>   b. Redhat RPMS
>      Where source rpms don't exist we have to create either
>      Redhat RPMS or Source RPMS first
> 
Yes.

> 2. Do we create and keep PeeWeeLinux sources (already patched
>    and ready to compile?). Or do we keep the original sources
>    and apply PeeWeeLinux patches?
> 

I think I'd go for the PeeWeeLinux patches.  That way, when the
original is upgraded, the patch *Might* work on the upgarde, otherwise,
just modify the patch a little...

> 3. Do we create PeeWeeLinux tar packages or PeeWeeLinux rpms
>    (both binaries)?
> 

I still like the tar files, unless you can figure out how to make 
the rpms re-locatable. (or use /tmp/pwl_tmp for all rpms or something).

> > The key here is that this *painful process* need only be done once...
> 
> That's correct. But what we use to start with and what it results in
> should be well defined. I looked at the Linux Router Project and I thought
> making LPR packages is a mess. I don't want the same for PeeWeeLinux.
>
yep, I never got into lrp because of it's configuration stuff...too much
to read!
 
> The easier the process is to follow the more likely people will contribute
> a complete set of sources/patches/binaries for PeeWeeLinux...
> 
> > Is it time to start to ask for help / Announce Pee Wee to a 
> > bunch of news groups /mailing lists ?? (Pee Wee Comes out of the closet!)
> 
> It's still far from a plug-and-play solution. I think I'd rather stick to
> announcing updates on freshmeat for now.
> 
Oh...I haven't been checking freshmeat myself ...

> > Maybe after I integrate the package stuff and the ram disk stuff...and
> > we get a few projects working...of course, we can always come up with 
> > more features...We need a marketing guy to say STOP, SHIP it NOW!:-)
> > 
> > "Software programs are never finished...only abandoned"
> 
> I think it'll be never finished. But the framework needs to be
> established.
> 

we're getting close...just need to close the loop on this package thing...
handle a few more devices...hmmmm...well, we are closer than we were last week!

Later,
Ralph

__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Thu Feb  3 22:20:39 2000
From: PeeWeeLinux-devel@adis.on.ca (Ralph Stickley)
Date: Thu, 3 Feb 2000 14:20:39 -0800 (PST)
Subject: List File Search Utility
Message-ID: <20000203222039.20271.qmail@web1102.mail.yahoo.com>

--0-846930886-949616439=:20035
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline

Ok,
I've re-named generate_list.sh to pwl_lister and added the folloing:

--find filename1...  searches for all given filenames in all .list files
--remove             deletes all .list files
<no args>            generates all .list files from all .tar files

Now, to see what files are in what packages:

cat xx.depends | xargs ./scripts/pwl_lister --find 2> xx

any files not found are copied off the error stream into the xx file.
Files found are listed by packagename:filename, so we can parse this.

Let me know what you think...
Enjoy,
Ralph

__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
--0-846930886-949616439=:20035
Content-Type: application/x-gzip-compressed; name="pwl_lister.gz"
Content-Transfer-Encoding: base64
Content-Description: pwl_lister.gz
Content-Disposition: attachment; filename="pwl_lister.gz"

H4sICB99mTgAA3B3bF9saXN0ZXIAnVVNT9tAEL37Vwy21UNVOyFHqiC1UqBV
kYiAlgNFiROP41Wdddhdtzn0x3d21x9rJxSEJcDMx9s382bHwcloxfholcjc
C7wAYI4I9/RzxXi1h4JJBRkrEPKEpwUKHVJJBFWe6Vd6LpGjSBRCbINFuYVY
JcKkyTroBrflb6SXuEVsXBeMp9YAjPf9FIF7XFcErnImQa4F29VHzLYrTFNM
F6uKFSmUorN81paRDdYoP2Y3i/n91eLq6+3d7GY6jica2pt/u1zMP919mfq7
ZP0r2aD0PZbBA5xAlELYuOERPtLxyD0i2+XE8ahLy9iLmbjOS5jXGcBLKqOs
eGpce6ZaCD889WEKfhTlWOz8Q4wIwf/Jv0vCOYMlCYc82SKE4yVlP0RR1vTT
mB/iOH4kkL/kjCJhZSCDP8Cj/+pU/UhMxDonnklRdDMgibIwpg37jbw9RPbA
AHwDJhrJUyxQ1VhUqlSMbxzQI8nO00yXPEZDT1kngh4XM0zlTrGSQ1SXMSiC
4rAYtFoX3m91YH65CDa5cdUAEwPQT32FUMdUqjU5kOX2DVq4IPR+XaldpWSd
2M4eUJNmQhCOVAKTrVWikFhDBM3fo43Ut1UbUiZwrUrBHE4tG8tugPcn1+l1
+07a/qWl18pu+F1znI5dm4BCqguuT16aBnZXLTJ9fG/Wx7KP5ZxsH9JuI3AH
0RNEDMIJhBa2J+EhldOhJzgwNI1q+sC4VAlfUx/KrFOb6Jt11rbyRWCNZ3jU
xVv6DvclHNT8HJYlumm29i4RMlmRHjvBuCor9WoQM2G+Pf8srOn5w8i05P36
aNE94zR3Kmz6rS/W+OBmNfzRmdsPIPCpQqnQuVK9DTvkTHN3/m7ijJbDSeYs
U7ZFCjjuVYepSkdgr18CQRzuFbsDj24WqPfjkY3YRr1p4hutTKnmu6vRzY21
WtV+sYUoc0ymEL0b7f0PwH5Y3Y2jv7vdl91lSdb/s6SA3ozSsfNE5dMlrQ+7
Fg3EsnNf8GlYR42c7WlPMni+qd0/Vrc/FyVdO0mlx3q32jKbUF2Dyhqs82ET
tJSB9w8u2pXuGgkAAA==

--0-846930886-949616439=:20035--
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Sun Feb 13 19:39:45 2000
From: PeeWeeLinux-devel@adis.on.ca (Ralph Stickley)
Date: Sun, 13 Feb 2000 11:39:45 -0800 (PST)
Subject: PeeWeeLinux - pwlconfig behavior (fwd)
Message-ID: <20000213193945.5267.qmail@web1101.mail.yahoo.com>

Gary,
Thanks for trying PWL ! I hope its a help for your project.
Some answers your questions below:

--- Adi Linden <adi@adis.on.ca> wrote:
> Hi,
> 
> Got this email and figured I'd better forward it to you...
> 
> Adi
> 
> ---------- Forwarded message ----------
> Date: Thu, 10 Feb 2000 15:59:46 -0800
> From: Gary Haussmann <g.haussmann@worldnet.att.net>
> To: alinden@users.sourceforge.net
> Subject: PeeWeeLinux - pwlconfig behavior
> 
> 
> Hi Adi,
> 
> First let me say that PeeWee Linux is pretty useful for me.  I have tried
> other mini-distributions like the Linux Router Project but the integrated
> project/package management via pwlconfig is very convenient.  I am mailing
> you since I see some odd behavior in pwlconfig itself.
> 
> The problem I find is mainly when I don't want a specific file from a certain
> package.  For instance, I don't want that huge /etc/termcap from the 
> base_filesystem package.  If I disable that file, exit from pwlconfig, and
> enter again, the /etc/termcap will be enabled again?
> 
I'm guessing here that you need to save your project before you exit.

When you start configuring a package, a temporary ".package.list" file is
created from either 1) the projects last "package.list" file or 2) from
the "Embedded_Build/../package.list" file.

As you make changes, the ".package.list" file is modified.  This file
remains until you save the project.  If you exit without saving, a
(verbose but highly clear :-?) message asks if you want to continue with
the changes you made previously, or revert to your last saved project.

If you revert, your changes will be lost and "build_files_verify" will
create an new ".package.file" when you start to re-configure that package
again.

If you continue, your ".package.file" remains and is updated until you 
save your project.

Anyhow, thats the way its supposed to work.  Programmers are the worst 
testers, so I *Know* there is some testing to do here :-)

If this is not the case for the problem you are seeing, please let me 
know 1) what version of pwlconfig you are using and 2) any short list 
of inputs that cause the problem to occur.  

> 
> Also, I have written up a short script to pack up the project mount point and
> generate a root disk image suitable for making a root floppy.  If I clean it
> up a bit, would you like me to send you a copy?  I noticed that the "put
> PWL on a floppy" documentation is missing at the moment and not supported
> in pwlconfig.
> 

Yes!! that would be great. I'm currently concentrating on getting the script
features in that I want (I don't even have a marketing dept. to blame for
scope creep here!) and trying to get our companys' thin client out the door...
Thus, the Floppy and CD rom are sorely neglected...Any other features you
think might be handy, just let us know!

BTW, I guess I'll have to post my latest upgrade, V0.85.  I have a new script,

pwl_template

that will build a file that has the framework for PWL scripts.  The result
is a program that parses the command line and has a working dialog box
built in....just add the good stuff in the middle :-)

> thanks,
>   Gary
> 
> 
Thank you too for helping to test this...if enough people help here, maybe
the number of HOW-TO's everyone needs to read will continue to shrink!

Later, 
Ralph Stickley
__________________________________________________
Do You Yahoo!?
Talk to your friends online with Yahoo! Messenger.
http://im.yahoo.com
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://embedded.adis.on.ca
---------------------------------------------------

