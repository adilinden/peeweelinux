From PeeWeeLinux-devel@adis.on.ca  Mon Oct  9 20:12:44 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Mon, 9 Oct 2000 14:12:44 -0500 (CDT)
Subject: Todo
Message-ID: <Pine.LNX.4.10.10010091410250.15292-100000@big.adis.on.ca>

Hi,

Here is the list of things that are unresolved as of PeeWeeLinux 0.51.
Anything I am missing?

TTYL,
Adi

----

October 9, 2000

PeeWeeLinux
===========

Development
-----------

o Integrate target build functions into pwlconfig

Bug Fixes
---------

o glibc
  - libpthreads

o initscripts
  - rc.init needs to be executeable
  - rc.sysinit not executeable

o Scripts to rotate logs
  - Add /etc/logrotate.d to filesystem
  - Add logrotate package with main script to rotate logs
    - Have logrotate script run by cron frequently (5 min)
    - Have individual scripts determine the rotate frequency
  - Packages
    - mgetty
    - syslog
    - cron
    - system

o Netscape
  - Have plain basic Netscape (we have that now!)
  - Make a netscape java package
  - make a netscape flash package
  - make communicator basic, java and flash packages

o Packages to add
  - awk
  - setterm
  - lpd, gv
  - pine
  - mail

o pppd
  - make a dialin configuration package including options and
options.ttyR0
  - make a demand dial package with chatscript and all that good stuff

o network
  - 10network... variables are mixed up with multiple ifcfg-eth?

o dev
  - split into dev and dev-X so a minimal device package is avialable?

General
-------
o lynx, links and/or w3m
o Documentation!!!
o parted package

For development environment (/bin directory)
o Ramdisk installation scripts
o Non ramdisk read-only partition scripts (multiple partitions)




---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Wed Oct 11 05:04:42 2000
From: PeeWeeLinux-devel@adis.on.ca (Richard Jennings)
Date: Tue, 10 Oct 2000 20:04:42 -0800
Subject: Todo
In-Reply-To: <Pine.LNX.4.10.10010091410250.15292-100000@big.adis.on.ca>
References: <Pine.LNX.4.10.10010091410250.15292-100000@big.adis.on.ca>
Message-ID: <a04310101b60996c377d0@[24.14.159.102]>

Adi,

Thanks for putting libpthreads in there.

I'll get going on the documentation here shortly. I hope to have my 
last chapter finished by the end of this month.

Richard

>Hi,
>
>Here is the list of things that are unresolved as of PeeWeeLinux 0.51.
>Anything I am missing?
>
>TTYL,
>Adi
>
>----
>
>October 9, 2000
>
>PeeWeeLinux
>===========
>
>Development
>-----------
>
>o Integrate target build functions into pwlconfig
>
>Bug Fixes
>---------
>
>o glibc
>   - libpthreads
>
>o initscripts
>   - rc.init needs to be executeable
>   - rc.sysinit not executeable
>
>o Scripts to rotate logs
>   - Add /etc/logrotate.d to filesystem
>   - Add logrotate package with main script to rotate logs
>     - Have logrotate script run by cron frequently (5 min)
>     - Have individual scripts determine the rotate frequency
>   - Packages
>     - mgetty
>     - syslog
>     - cron
>     - system
>
>o Netscape
>   - Have plain basic Netscape (we have that now!)
>   - Make a netscape java package
>   - make a netscape flash package
>   - make communicator basic, java and flash packages
>
>o Packages to add
>   - awk
>   - setterm
>   - lpd, gv
>   - pine
>   - mail
>
>o pppd
>   - make a dialin configuration package including options and
>options.ttyR0
>   - make a demand dial package with chatscript and all that good stuff
>
>o network
>   - 10network... variables are mixed up with multiple ifcfg-eth?
>
>o dev
>   - split into dev and dev-X so a minimal device package is avialable?
>
>General
>-------
>o lynx, links and/or w3m
>o Documentation!!!
>o parted package
>
>For development environment (/bin directory)
>o Ramdisk installation scripts
>o Non ramdisk read-only partition scripts (multiple partitions)
>
>
>
>
>---------------------------------------------------
>See the list archives at http://adis.on.ca/archives/
>See the PWL homepage at  http://peeweelinux.com
>---------------------------------------------------

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Wed Oct 11 16:01:09 2000
From: PeeWeeLinux-devel@adis.on.ca (Richard Jennings)
Date: Wed, 11 Oct 2000 07:01:09 -0800
Subject: Todo
In-Reply-To: <Pine.LNX.4.10.10010091410250.15292-100000@big.adis.on.ca>
References: <Pine.LNX.4.10.10010091410250.15292-100000@big.adis.on.ca>
Message-ID: <a04310102b60a30afa1d2@[24.14.159.102]>

Can you add nfs support to the kernel? I'm trying to mount a remote 
filesystem but nfs is not supported by the kernel.

Richard
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Wed Oct 11 15:56:59 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Wed, 11 Oct 2000 09:56:59 -0500 (CDT)
Subject: Todo
In-Reply-To: <a04310102b60a30afa1d2@[24.14.159.102]>
Message-ID: <Pine.LNX.4.10.10010110907500.4012-100000@develop.knet.on.ca>

Hi,

The kernel is certainly a thorn in my side so to speak. The idea of an
embedded kernel is to have it as small as possible. Yet, every platform
has different requirements and demands different kernel modules, etc.

One option would be to allow one to build a custom kernel by giving an
option in pwlconfig that extracts kernel sources, and drops into a kernel
configuration screen that allows for building a custom kernel. Now this is
the Cadillac that might not be feasable.

Another option would be to reduce the number of special purpose kernels
and insead build a highly modularized kernel with virtually all options.
Very similar to the stock RedHat kernel. It would be up to the individual
user to deselect unneeded modules to conserve space. I tend to lean
towards this solution. Realizing that there are a number of people using
PWL already I don't want to make drastic changes to the kernel between
releases. So depending on my time availability I plan on either adding a
full blown all options 2.214 kernel or skip any changes to 2.2.14 and go
right to the latest 2.4 beta kernel.

Comments would be quite welcome here :)

Another feature still in the works is a dependency checking routine in
pwlconfig. I had one figured out and added it to one of the pwl_target
(rd_functions) but never completed it. I used to have depended libs as
part of the packages but that changed when rpm came in. So now we need a
routine that checks the installed system for missing or unneeded libs...

TTYL,
Adi


On Wed, 11 Oct 2000, Richard Jennings wrote:

> Can you add nfs support to the kernel? I'm trying to mount a remote 
> filesystem but nfs is not supported by the kernel.
> 
> Richard
> ---------------------------------------------------
> See the list archives at http://adis.on.ca/archives/
> See the PWL homepage at  http://peeweelinux.com
> ---------------------------------------------------
> 

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Wed Oct 11 15:57:40 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Wed, 11 Oct 2000 09:57:40 -0500 (CDT)
Subject: Todo
In-Reply-To: <a04310101b60996c377d0@[24.14.159.102]>
Message-ID: <Pine.LNX.4.10.10010110957350.4012-100000@develop.knet.on.ca>


On Tue, 10 Oct 2000, Richard Jennings wrote:

> Adi,
> 
> Thanks for putting libpthreads in there.
> 
> I'll get going on the documentation here shortly. I hope to have my 
> last chapter finished by the end of this month.
> 
> Richard
> 
> >Hi,
> >
> >Here is the list of things that are unresolved as of PeeWeeLinux 0.51.
> >Anything I am missing?
> >
> >TTYL,
> >Adi
> >
> >----
> >
> >October 9, 2000
> >
> >PeeWeeLinux
> >===========
> >
> >Development
> >-----------
> >
> >o Integrate target build functions into pwlconfig
> >
> >Bug Fixes
> >---------
> >
> >o glibc
> >   - libpthreads
> >
> >o initscripts
> >   - rc.init needs to be executeable
> >   - rc.sysinit not executeable
> >
> >o Scripts to rotate logs
> >   - Add /etc/logrotate.d to filesystem
> >   - Add logrotate package with main script to rotate logs
> >     - Have logrotate script run by cron frequently (5 min)
> >     - Have individual scripts determine the rotate frequency
> >   - Packages
> >     - mgetty
> >     - syslog
> >     - cron
> >     - system
> >
> >o Netscape
> >   - Have plain basic Netscape (we have that now!)
> >   - Make a netscape java package
> >   - make a netscape flash package
> >   - make communicator basic, java and flash packages
> >
> >o Packages to add
> >   - awk
> >   - setterm
> >   - lpd, gv
> >   - pine
> >   - mail
> >
> >o pppd
> >   - make a dialin configuration package including options and
> >options.ttyR0
> >   - make a demand dial package with chatscript and all that good stuff
> >
> >o network
> >   - 10network... variables are mixed up with multiple ifcfg-eth?
> >
> >o dev
> >   - split into dev and dev-X so a minimal device package is avialable?
> >
> >General
> >-------
> >o lynx, links and/or w3m
> >o Documentation!!!
> >o parted package
> >
> >For development environment (/bin directory)
> >o Ramdisk installation scripts
> >o Non ramdisk read-only partition scripts (multiple partitions)
> >
> >
> >
> >
> >---------------------------------------------------
> >See the list archives at http://adis.on.ca/archives/
> >See the PWL homepage at  http://peeweelinux.com
> >---------------------------------------------------
> 
> ---------------------------------------------------
> See the list archives at http://adis.on.ca/archives/
> See the PWL homepage at  http://peeweelinux.com
> ---------------------------------------------------
> 

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Wed Oct 11 16:23:46 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Wed, 11 Oct 2000 10:23:46 -0500 (CDT)
Subject: Todo
In-Reply-To: <a04310101b60996c377d0@[24.14.159.102]>
Message-ID: <Pine.LNX.4.10.10010111019050.4012-100000@develop.knet.on.ca>

Hi,

Good stuff. I am hoping to be releasing an updated version with the
target build options integrated into pwlconfig soon. 

Maybe by the weekend but I shouldn't be making any promises! I've been
renovating and a weeks project is now at 6 weeks. I can tell you one
thing, ripping walls and floors out of an 80 year old house is certainly
good for a lot of surprises.

So my top priority is integration of the target build functions into
pwlconfig. This does change the pwlconfig menus a fair bit.

Second priority is fixing the bugs.

Third in line is documentation. Once documentation is in place I want to
go to a 1.0 release and find some neat means of incrementing version
numbers in a useful way.

TTYL,
Adi

On Tue, 10 Oct 2000, Richard Jennings wrote:

> Adi,
> 
> Thanks for putting libpthreads in there.
> 
> I'll get going on the documentation here shortly. I hope to have my 
> last chapter finished by the end of this month.
> 
> Richard

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Wed Oct 11 16:23:02 2000
From: PeeWeeLinux-devel@adis.on.ca (Dennis W. Tokarski)
Date: Wed, 11 Oct 2000 11:23:02 -0400
Subject: Todo
References: <Pine.LNX.4.10.10010110907500.4012-100000@develop.knet.on.ca>
Message-ID: <39E485D6.B587B95F@PolTec.Com>

Adi Linden wrote:
> 
> Hi,
> 
> The kernel is certainly a thorn in my side so to speak. The idea of an
> embedded kernel is to have it as small as possible. Yet, every platform
> has different requirements and demands different kernel modules, etc.

That's certainly a problem, and one which grows out of the kernel's
monolithic architecture. The best you can do is make everything that
might be optional a module, as you suggest below.

> 
> One option would be to allow one to build a custom kernel by giving an
> option in pwlconfig that extracts kernel sources, and drops into a kernel
> configuration screen that allows for building a custom kernel. Now this is
> the Cadillac that might not be feasable.

Nor even desirable, necessarily. 

> 
> Another option would be to reduce the number of special purpose kernels
> and insead build a highly modularized kernel with virtually all options.
> Very similar to the stock RedHat kernel.

An embedded systems designer would have the same advantages that Red Hat
has, too: by putting a selection of modules, not all of which are always
needed, on a compressed initrd the final kernel RAM footprint might be
a bit smaller.

>                                          It would be up to the individual
> user to deselect unneeded modules to conserve space. I tend to lean
> towards this solution. Realizing that there are a number of people using
> PWL already I don't want to make drastic changes to the kernel between
> releases. So depending on my time availability I plan on either adding a
> full blown all options 2.214 kernel or skip any changes to 2.2.14 and go
> right to the latest 2.4 beta kernel.

Eeks! Anyone writing drivers, especially file system modules, could have
some heartburn over this. The kernel guys make radical changes to the
VFS
layer more often than some people change socks, and of course don't 
document them. Going from 2.2 to 2.4 is reportedly not so traumatic as
2.0 to 2.2, but still...defer the pain if you can.

> 
> Comments would be quite welcome here :)
> 
> Another feature still in the works is a dependency checking routine in
> pwlconfig. I had one figured out and added it to one of the pwl_target
> (rd_functions) but never completed it. I used to have depended libs as
> part of the packages but that changed when rpm came in. So now we need a
> routine that checks the installed system for missing or unneeded libs...
> 
-
That reminds me of a feature that one of commercial embedded distros
has.
Embeddix, I think. They have a utility which can look at an executable
--or maybe a set of executables--which you propose to put in your target
system, then construct a custom library containing only the stuff you
really need. I think that's how it works. For good reason they call it
'lipo'. I've been trying to figure out how they do that. 'ldd' can tell
you which libs an executable needs, but not which routines in the libs
it links to.

You guys have a nice piece of work here in pwl. I wish the time demands
of
my current project had let me lend a hand. Good show!

  --Dennis
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Thu Oct 12 06:38:38 2000
From: PeeWeeLinux-devel@adis.on.ca (Richard Jennings)
Date: Wed, 11 Oct 2000 21:38:38 -0800
Subject: Todo
In-Reply-To: <Pine.LNX.4.10.10010110907500.4012-100000@develop.knet.on.ca>
References: <Pine.LNX.4.10.10010110907500.4012-100000@develop.knet.on.ca>
Message-ID: <a04310102b60afabc1a84@[24.14.159.102]>

--============_-1240793377==_============
Content-Type: text/plain; charset="us-ascii" ; format="flowed"

Modular would certainly be better than making a different kernel for 
every need. Sorry for adding to the noise, I was just thinking about 
my own needs. ;-)

As long as I have your attention though.... Have you thought about 
putting Eric Anderson's "silent" patch into the kernel. Eric posted a 
patch to the linux embedded list last month that works great. Just 
give lilo the line "debug=2" and all the kernel messages go away. 
I've enclosed it in case you want it.

Richard


>Hi,
>
>The kernel is certainly a thorn in my side so to speak. The idea of an
>embedded kernel is to have it as small as possible. Yet, every platform
>has different requirements and demands different kernel modules, etc.
>
>One option would be to allow one to build a custom kernel by giving an
>option in pwlconfig that extracts kernel sources, and drops into a kernel
>configuration screen that allows for building a custom kernel. Now this is
>the Cadillac that might not be feasable.
>
>Another option would be to reduce the number of special purpose kernels
>and insead build a highly modularized kernel with virtually all options.
>Very similar to the stock RedHat kernel. It would be up to the individual
>user to deselect unneeded modules to conserve space. I tend to lean
>towards this solution. Realizing that there are a number of people using
>PWL already I don't want to make drastic changes to the kernel between
>releases. So depending on my time availability I plan on either adding a
>full blown all options 2.214 kernel or skip any changes to 2.2.14 and go
>right to the latest 2.4 beta kernel.
>
>Comments would be quite welcome here :)
>
>Another feature still in the works is a dependency checking routine in
>pwlconfig. I had one figured out and added it to one of the pwl_target
>(rd_functions) but never completed it. I used to have depended libs as
>part of the packages but that changed when rpm came in. So now we need a
>routine that checks the installed system for missing or unneeded libs...
>
>TTYL,
>Adi
>
>
>On Wed, 11 Oct 2000, Richard Jennings wrote:
>
>>  Can you add nfs support to the kernel? I'm trying to mount a remote
>>  filesystem but nfs is not supported by the kernel.
>>
>>  Richard
>>  ---------------------------------------------------
>>  See the list archives at http://adis.on.ca/archives/
>>  See the PWL homepage at  http://peeweelinux.com
>>  ---------------------------------------------------
>>
>
>---------------------------------------------------
>See the list archives at http://adis.on.ca/archives/
>See the PWL homepage at  http://peeweelinux.com
>---------------------------------------------------

--============_-1240793377==_============
Content-Id: <a04310102b60afabc1a84@[24.14.159.102].0.0>
Content-Type: application/mac-binhex40; name="silent.patch"
Content-Disposition: attachment; filename="silent.patch"
 ; modification-date="Wed, 13 Sep 2000 17:46:56 -0800"

(This file must be converted with BinHex 4.0)

:$(0TE'9ZG#j`BA4MD!"849K8G(4iG!%!!!!$hJ!!!!$Fj@4TCQBJ,8jeFL"XD@j
eH#j[FQPR,f&bBfJ[D6-i0LpLEfpd,f0[EA"bCA0cC@3[E@PcBbjM)'aTER9i,f&
bBfJ[D6-i0LpLEfpd,f0[EA"bCA0cC@3[E@PcBbjM$5dY,5"XD@jeH#j[FQPR,f&
bBfJ[D6-i0LpLEfpd,f0[EA"bCA0cC@3[E@PcBbjM#9GPC#"+G@iJ-M3J-M-k-c!
k-$JJ-6Nj1!dV+bXJE'PZGAJ[BA*MD#pT-cJf,f*[Eh3[BfpYF(*PFh0PC#pYDA0
M,Q-*4R*T)%CPBL!a15!a0$Sd0MS`0b!a16Nj$8"!)#dc0$NX15!V-c3j,$NJ3%!
0)!PPE(0P)(0PG(9`AfpeG("eG&pLG@CQCA*ID@CIGf9IFR9ZAfKTCfJSEABT1`d
J$5!*E@&VC@0bBbJT1`dY#A"eG(-S)P9ZBfpYF(*PFh0TEQFJ6'PZGAJZ,LiJ)LN
l$5X*,bT`GA4c+#*9EQ0[EA"bCA0cD@jR)%aTER9i,LiZ)#)T1bS[$5!*Ch9ZHQP
`+#Nl$5d*F(9dFbJL6fXX)'*[Eh4TEQFJG'KP)'YPFQjPE#jFEL)T1`dV#5mUF(9
dFbJL6fXX)'*[Eh4TEQFJG'KP)'YPFQjPE#jFEL)T1bS[$5!*D@BJ+'KTCfKIE'p
KC'9N+5"ME'pcC9p[GA4`GA4IBR9QCQ9bAfPQAhGPAh*eEPpSD@GS+'ef+6X0)!P
bCA4eFQiJD'PRD&pXEf&NC@3l$5"p$@4TCQBJ,8jeFL"XD@jeH#j[FQPR,fPZDA3
[E@&TELjM)'aTER9i,fPZDA3[E@&TELjM$5dY,5"XD@jeH#j[FQPR,fPZDA3[E@&
TELjM#9GPC#"+B@iJ-M!J-6Nk-6Jk06-J-6Nj13dV+bXJE'PZGAJ[D@jTG#pYB@P
Z,Q-*4R*T)%CPBL!a15!a0$Sd0$Sd-L!a16Nj$8"!)#da-$%h,$BJ+c%`-6FX-6%
J3%!0)!N*#A*[Eh4IE@peER4QE'&RFb!Q25"q690I8N426NaC1`dJ#3N*BfpZG'P
ZG@8l$5!*#Ad0+`N*D@BJ+#&cG(*ZBfe`+'aTEQ8X)Q4PBR9R25)X0LNT)(X0+`N
*#@aTEQ8J+cdJ0MX0+`N*#@0[ER0[E'9IE'pRE'9fC@`J25"cD@e`E'9IFh4bG'p
eE#KXD@jP,#!QE'PZC5`J-#Nl$5X*#3PMEfjdD@jeC6X0+`N*I3dJ#3PTCL!S)A0
dFQ0YF#KXD@jP,#*NC@*eCb)T+5"l$5!*#3PMEfjcEfaPAfa[CfaPGQ9X)$dJ-6!
l$5!*#3PMEfjdD@jeC6X0$ApZ!!!!:
--============_-1240793377==_============--
---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Fri Oct 13 16:43:40 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Fri, 13 Oct 2000 10:43:40 -0500 (CDT)
Subject: Todo
In-Reply-To: <39E485D6.B587B95F@PolTec.Com>
Message-ID: <Pine.LNX.4.10.10010131034440.4012-100000@develop.knet.on.ca>

Hi,

> That's certainly a problem, and one which grows out of the kernel's
> monolithic architecture. The best you can do is make everything that
> might be optional a module, as you suggest below.

I have a question, how much code is added to the kernel for an option
build as module? Is all the code for a particular ethernet driver for
example contained in the driver module?

> > Another option would be to reduce the number of special purpose kernels
> > and insead build a highly modularized kernel with virtually all options.
> > Very similar to the stock RedHat kernel.
> 
> An embedded systems designer would have the same advantages that Red Hat
> has, too: by putting a selection of modules, not all of which are always
> needed, on a compressed initrd the final kernel RAM footprint might be
> a bit smaller.

The initrd is only required if the kernel is needed before mounting the
partition containing the modules (i.e. RAID, SCSI). pwlconfig would allow
to select which modules to make part of the filesystem.

> layer more often than some people change socks, and of course don't 
> document them. Going from 2.2 to 2.4 is reportedly not so traumatic as
> 2.0 to 2.2, but still...defer the pain if you can.

I am thinking of adding the 2.4 kernel as an enhancement in addition to
the latest 2.2.x kernel. I.e. the K-Net Router I am maintaining contains
modules that are available in binary only. So switching it to 2.4 isn't
an option. I wouldn't want to make future PeeWeeLinux releases useless for
a developer stuck with a 2.2.x kernel for some other reason. I will try to
switch to the latest 2.2.x kernel, though.

As I understand the 2.4 kernel contains some things that might make
embedded life much easier, like the virtual dev filesystem.

> Embeddix, I think. They have a utility which can look at an executable
> --or maybe a set of executables--which you propose to put in your target
> system, then construct a custom library containing only the stuff you
> really need. I think that's how it works. For good reason they call it
> 'lipo'. I've been trying to figure out how they do that. 'ldd' can tell
> you which libs an executable needs, but not which routines in the libs
> it links to.

To start I'd like to add a dependency check routine that merely lists libs
which are either needed and not present or present and not needed. Perhaps
with an option to update the package list automatically.

I've looked at tiny libs. But most of them require binaries to be compiled
against them. That would require compiling on the fly... maybe some day...

TTYL,
Adi






---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Fri Oct 13 16:49:07 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Fri, 13 Oct 2000 10:49:07 -0500 (CDT)
Subject: Todo
In-Reply-To: <a04310102b60afabc1a84@[24.14.159.102]>
Message-ID: <Pine.LNX.4.10.10010131044420.4012-100000@develop.knet.on.ca>

Hi,

Thanks for stimulating my memory. I shall add a few more tasks to the todo
list.

- Add new GPL compliant M-Systems driver to kernel
- Add silent patch
- Add boot logo patch (same like silent?)

Just a reminder, though, this is a secondary task. Right now the target
build is my primary objective.

TTYL,
Adi


On Wed, 11 Oct 2000, Richard Jennings wrote:

> Modular would certainly be better than making a different kernel for 
> every need. Sorry for adding to the noise, I was just thinking about 
> my own needs. ;-)
> 
> As long as I have your attention though.... Have you thought about 
> putting Eric Anderson's "silent" patch into the kernel. Eric posted a 
> patch to the linux embedded list last month that works great. Just 
> give lilo the line "debug=2" and all the kernel messages go away. 
> I've enclosed it in case you want it.
> 
> Richard

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Tue Oct 17 04:01:11 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Mon, 16 Oct 2000 22:01:11 -0500 (CDT)
Subject: 0.52 Release
Message-ID: <Pine.LNX.4.10.10010162153290.30989-100000@gizmo.adis.on.ca>

Hi,

I just finished uploading PeeWeeLinux 0.52 to sourceforge. The target
build functions are now integrated into pwlconfig. The 2.2.17 kernel has
been build and a full featured kernel package is included.

Treat this carfully as the pwlconfig integration hasn't been fully tested
yet. Also, not all of the 2.2.17 kernel packages have been tested either.

Download locations are:

http://download.sourceforge.net/embedded/peeweelinux-0.52-src.tar.gz
http://download.sourceforge.net/embedded/peeweelinux-0.52-bin.tar.gz

Soon this should also be available at:

ftp://metalab.unc.edu/pub/linux/distributions/peewee/

TTYL,
Adi

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Tue Oct 17 18:02:43 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Tue, 17 Oct 2000 12:02:43 -0500 (CDT)
Subject: pwlconfig in 0.52 does not work!
In-Reply-To: <Pine.BSO.4.21.0010170940340.10059-100000@tattooed.rightarm.org>
Message-ID: <Pine.LNX.4.10.10010171200060.16846-100000@develop.knet.on.ca>

Hi,

A big ooops on my part! I uploaded the wrong 0.52 archive. Instead of
uplaoding the working release I uploaded a previous backup with unfinished
pwlconfig scripts!

I'll try to do my best to make the 0.52 release unavailable since it
doesn't work and get a new fixed release out!

A big sorry for that one!

TTYL,
Adi

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Wed Oct 18 07:14:46 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Wed, 18 Oct 2000 01:14:46 -0500 (CDT)
Subject: PeeWeeLinux 0.52
Message-ID: <Pine.LNX.4.10.10010180105520.16199-100000@big.adis.on.ca>

Hi,

The format of the configuration file has changed substantially between the
0.51 and 0.52 release. This is causing most of the problems with 0.52 and
the errors running pwlconfig. This should only affect anyone trying to use
an old project in 0.52.

As of 0.53 the PWL version that created the projects.default file will be
recorded. So as new variables are added to the config file PWL can make
sure that old config files are updated automatically.

PeeWeeLinux 0.53 should be ready shortly including a fix to update 0.52 to
0.53.

TTYL,
Adi 

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Thu Oct 19 04:02:51 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Wed, 18 Oct 2000 22:02:51 -0500 (CDT)
Subject: PeeWeeLinux 0.53
Message-ID: <Pine.LNX.4.10.10010182158450.23203-100000@big.adis.on.ca>

Hi,

To update PeeWeeLinux 0.52 to 0.53 extract the pwl_scr-0.97g.tar.gz file
in the Embedded_Build directory. It will replace the existing pwlconfig
scripts with the newest versions. Location:

http://adis.on.ca/pub/Projects/Embedded/Miscellaneous/pwl_scr-0.97g.tar.gz


PeeWeeLinux 0.53 is now available. Highlights of this
release are: 

    - Target build functions integrated into pwlconfig 
    - New 2.2.17 kernel 
    - A few bugfixes 

More details can be found in Changelog:

    http://adis.on.ca/pub/Projects/Embedded/Embedded_Build/CHANGELOG 

Find the new PeeWeeLinux 0.53 release at the customary locations: 

    http://sourceforge.net/project/filelist.php?group_id=818 
    ftp://metalab.unc.edu/pub/linux/distributions/peewee/ 

TTYL,
Adi

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Sun Oct 22 01:33:59 2000
From: PeeWeeLinux-devel@adis.on.ca (Dennis W. Tokarski)
Date: Sat, 21 Oct 2000 20:33:59 -0400
Subject: Todo
References: <Pine.LNX.4.10.10010131034440.4012-100000@develop.knet.on.ca>
Message-ID: <39F235F7.E92A557@PolTec.COM>

Hi Adi,

Adi Linden wrote:
> 

> I have a question, how much code is added to the kernel for an option
> build as module? Is all the code for a particular ethernet driver for
> example contained in the driver module?

Yes, all the code for a particular driver is in the module. At least
that's the case in every one I've looked at or written. There is just
a little bit of extra code needed in a driver to make it a loadable
module, but I bet it's less than 1 or 2K. Mostly it's its a matter of
slightly different organization.

There is a little bit of overhead in the kernel itself to support
modules
at all. It seems to amount to about 10K in the compressed bzImage, and
about 25K in the uncompressed, stripped kernel image:

With module support in kernel but no kernel module loader

[root@Chiron linux]# f vmlinux arch/i386/boot/bzImage
-rw-rw-r--    1 root     root       480799 Oct 20 18:07
arch/i386/boot/bzImage
-rwxr-xr-x    1 root     root      5033263 Oct 20 18:07 vmlinux
[root@Chiron linux]# strip ./vmlinux
[root@Chiron linux]# f vmlinux
-rwxr-xr-x    1 root     root       974252 Oct 20 18:09 vmlinux
[root@Chiron linux]# 


Without module support in kernel

[root@Chiron linux]# f vmlinux arch/i386/boot/bzImage
-rw-rw-r--    1 root     root       469013 Oct 20 17:56
arch/i386/boot/bzImage
-rwxr-xr-x    1 root     root      4823133 Oct 20 17:56 vmlinux
[root@Chiron linux]# strip ./vmlinux
[root@Chiron linux]# f vmlinux
-rwxr-xr-x    1 root     root       949412 Oct 20 17:59 vmlinux
[root@Chiron linux]# 

> > An embedded systems designer would have the same advantages that Red Hat
> > has, too: by putting a selection of modules, not all of which are always
> > needed, on a compressed initrd the final kernel RAM footprint might be
> > a bit smaller.
> 
> The initrd is only required if the kernel is needed before mounting the
> partition containing the modules (i.e. RAID, SCSI). pwlconfig would allow
> to select which modules to make part of the filesystem.

That's one way, certainly. But there are two reasons for using an initrd
even if it's not necessary. First, and the reason Red Hat does it, is to
have an initial root device containing more modules than you will need
on
every system, and just load the ones you find necessary based on what
hardware
you find you're running on. That having been done, the initrd can be
released
and all those modules you don't need aren't taking up space on your
working root
device. So, you can have one bootable DOC, say, useable on a several
different
hardware configurations. That is sometimes convenient.

The second reason is more for saving space. Because an initrd can be
compressed,
the set of modules you include (whether needed or not for a particular
hardware
platform) take up less space on your boot medium. For this reason alone
I'd be
inclined to put all my modules in an initrd and not have any on the
runtime root
file system.

The main reason for not using an initrd is if you have modules that
you'll
want to load, unload, and reload occasionally.


> I am thinking of adding the 2.4 kernel as an enhancement in addition to
> the latest 2.2.x kernel. 

Whew!

> As I understand the 2.4 kernel contains some things that might make
> embedded life much easier, like the virtual dev filesystem.

Yes, I am looking forward to that one.

> 
> To start I'd like to add a dependency check routine that merely lists libs
> which are either needed and not present or present and not needed. Perhaps
> with an option to update the package list automatically.
> 

Well, ldd will tell you the *libraries* an executable will want to link
to.
Not which procedures in the libraries though. But that should be enough
for what you want to do. Just run ldd on the executables you propose to
include in the target system, run it's output through grep, sed, sort,
and
uniq with appropriate options, and you have a complete list of required
libs. Then you can diff that against the list of libs alread included
and
make the necessarey additions and deletions.

One caveat, I've had some experience lately to suggest that ldd is not
completely authoritative. That is, some programs link at run time to
shared libraries which ldd does not mention. This doesn't seem to be
very
common, though.

Later,

  --Dennis

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

From PeeWeeLinux-devel@adis.on.ca  Wed Oct 25 03:34:01 2000
From: PeeWeeLinux-devel@adis.on.ca (Adi Linden)
Date: Tue, 24 Oct 2000 21:34:01 -0500 (CDT)
Subject: Updated pwlconfig scripts
Message-ID: <Pine.LNX.4.10.10010242126080.19586-100000@big.adis.on.ca>

Hi,

Here are some updated pwlconfig scripts. Some changes:
- Non-working and under development features are no longer shown by
  default. Use 'pwlconfig -b' or 'pwlconfig --experimental' to get
  the hidden menu options
- The kernel packages no show the kernel version for clarity. This means
  older projects will not have a valid kernel until a new kernel package
  has been configured.
- Added a load example project choice to 'Create New Project' option
- Added a first example project.

Download: http://adis.on.ca/pub/Projects/Embedded/peeweelinux-0.53.4-cfg.tar.gz

TTYL,
Adi

---------------------------------------------------
See the list archives at http://adis.on.ca/archives/
See the PWL homepage at  http://peeweelinux.com
---------------------------------------------------

