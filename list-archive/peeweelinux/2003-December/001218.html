<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Peeweelinux] trouble compiling custom kernel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:peeweelinux%40adis.on.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="001216.html">
   <LINK REL="Next"  HREF="001219.html">
<!-- Google_Analytics -->
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<!-- AdSense_Archive_Slot -->
   <H1>[Peeweelinux] trouble compiling custom kernel
   </H1>
    <B>Troy Engel
    </B> 
    <A HREF="mailto:peeweelinux%40adis.on.ca"
       TITLE="[Peeweelinux] trouble compiling custom kernel">peeweelinux@adis.on.ca
       </A><BR>
    <I>Mon, 22 Dec 2003 16:13:37 -0800</I>
    <P><UL>
        <LI> Previous message: <A HREF="001216.html">[Peeweelinux] trouble compiling custom kernel
</A></li>
        <LI> Next message: <A HREF="001219.html">[Peeweelinux] trouble compiling custom kernel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1218">[ date ]</a>
              <a href="thread.html#1218">[ thread ]</a>
              <a href="subject.html#1218">[ subject ]</a>
              <a href="author.html#1218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm assuming you're following my instructions to make this kernel -- 
check two things:

1) the RH62 compat-* packages are installed, and you are invoking the 
script /usr/i386-glibc21-linux/bin/i386-glibc21-linux-env.sh *prior* to 
running/configuring/building the kernel

2) that you've edited the kernel Makefile to use &quot;kgcc&quot; instead of &quot;gcc&quot; 
(/usr/bin/kgcc is installed as part of compat-egcs-&lt;VER&gt;.rpm)

-te

Jonathan Sturges wrote:
&gt;<i> I was able to compile 2.2.25 in gcc 3.2, but the resulting kernel &quot;Oops&quot;es
</I>&gt;<i> when initialized on my Advantech boards, which are using National
</I>&gt;<i> Semiconductor's Geode CPU.  You might be right about gcc 3.2 with 2.2.17
</I>&gt;<i> though.  If I cd into the $PWL_HOME/kernelbuild/usr/src/linux, after trying
</I>&gt;<i> to make a custom kernel within PWL, and do a 'make bzImage' it does choke
</I>&gt;<i> without producing an image.
</I>&gt;<i> 
</I>&gt;<i> I will try a 2.4 kernel and see how it goes.
</I>&gt;<i> 
</I>&gt;<i> thanks,
</I>&gt;<i> Jonathan
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message ----- 
</I>&gt;<i> From: &quot;Ken Emmons, Jr.&quot; &lt;<A HREF="mailto:kemmons@qatech.com">kemmons@qatech.com</A>&gt;
</I>&gt;<i> To: &lt;<A HREF="mailto:peeweelinux@adis.on.ca">peeweelinux@adis.on.ca</A>&gt;
</I>&gt;<i> Sent: Monday, December 22, 2003 3:05 PM
</I>&gt;<i> Subject: RE: [Peeweelinux] trouble compiling custom kernel
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i>I think the 2.2 kernel compile will die with GCC 3.2, but I am not sure.
</I>&gt;<i> 
</I>&gt;<i> Compile a kernel version (2.4 something) that will work with your compiler
</I>&gt;<i> (view the README docs in the kernel source for where to findd out what
</I>&gt;<i> version of GCC to use). If you can, compile everything static, so you don't
</I>&gt;<i> have to deal with modules.
</I>&gt;<i> 
</I>&gt;&gt;<i>Now you need to Copy the bzImage file (your compiled kernel) into your
</I>&gt;<i> 
</I>&gt;<i> peewee projects &quot;custom&quot; folder. This custom folder mimics the root
</I>&gt;<i> filesystem of your target, which allows you to overwrite or add files. Make
</I>&gt;<i> a &quot;boot&quot; directory if it is not already there, and put your bzImage file
</I>&gt;<i> there.  If you don't need modules, you are now done. Otherwise, copy all of
</I>&gt;<i> your module files intot he appropriate directories, and hope it works.
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>~Ken
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>-----Original Message-----
</I>&gt;&gt;&gt;<i>From: Jonathan Sturges [mailto:<A HREF="mailto:jonathan@sprintmail.com">jonathan@sprintmail.com</A>]
</I>&gt;&gt;&gt;<i>Sent: Monday, December 22, 2003 2:52 PM
</I>&gt;&gt;&gt;<i>To: <A HREF="mailto:peeweelinux@adis.on.ca">peeweelinux@adis.on.ca</A>
</I>&gt;&gt;&gt;<i>Subject: [Peeweelinux] trouble compiling custom kernel
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>Hi,
</I>&gt;&gt;&gt;<i>I'm a PWL newbie.  I've been playing with 0.61.1 for a week
</I>&gt;&gt;&gt;<i>or so now and
</I>&gt;&gt;&gt;<i>have made several successful test images with it... pretty
</I>&gt;&gt;&gt;<i>darn intuitive
</I>&gt;&gt;&gt;<i>and easy!
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>However I cannot seem to compile a custom kernel from the
</I>&gt;&gt;&gt;<i>2.2.17 sources
</I>&gt;&gt;&gt;<i>that came with PWL.  It never seems to produce a bzImage.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>I was able to follow some directions I found in the list
</I>&gt;&gt;&gt;<i>archive and build a
</I>&gt;&gt;&gt;<i>kernel outside of PWL and bring that in... that did work for
</I>&gt;&gt;&gt;<i>me though.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>FWIW, my host OS is RH 8.0 with gcc 3.2; is that likely a
</I>&gt;&gt;&gt;<i>problem area or is
</I>&gt;&gt;&gt;<i>the host platform pretty flexible with PWL?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>thanks,
</I>&gt;&gt;&gt;<i>Jonathan
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;&gt;<i>Peeweelinux mailing list
</I>&gt;&gt;&gt;<i><A HREF="mailto:Peeweelinux@adis.on.ca">Peeweelinux@adis.on.ca</A>
</I>&gt;&gt;&gt;<i><A HREF="http://mail.adis.on.ca/lists/listinfo/peeweelinux">http://mail.adis.on.ca/lists/listinfo/peeweelinux</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>_______________________________________________
</I>&gt;&gt;<i>Peeweelinux mailing list
</I>&gt;&gt;<i><A HREF="mailto:Peeweelinux@adis.on.ca">Peeweelinux@adis.on.ca</A>
</I>&gt;&gt;<i><A HREF="http://mail.adis.on.ca/lists/listinfo/peeweelinux">http://mail.adis.on.ca/lists/listinfo/peeweelinux</A>
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Peeweelinux mailing list
</I>&gt;<i> <A HREF="mailto:Peeweelinux@adis.on.ca">Peeweelinux@adis.on.ca</A>
</I>&gt;<i> <A HREF="http://mail.adis.on.ca/lists/listinfo/peeweelinux">http://mail.adis.on.ca/lists/listinfo/peeweelinux</A>
</I>
-- 
Troy Engel, Systems Engineer
we code so you don't have to


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="001216.html">[Peeweelinux] trouble compiling custom kernel
</A></li>
	<LI> Next message: <A HREF="001219.html">[Peeweelinux] trouble compiling custom kernel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1218">[ date ]</a>
              <a href="thread.html#1218">[ thread ]</a>
              <a href="subject.html#1218">[ subject ]</a>
              <a href="author.html#1218">[ author ]</a>
         </LI>
       </UL>
</body></html>
