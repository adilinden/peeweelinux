<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [Peeweelinux] DiskOnChip Boot Problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:peeweelinux%40adis.on.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000608.html">
   <LINK REL="Next"  HREF="000610.html">
<!-- Google_Analytics -->
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<!-- AdSense_Archive_Slot -->
   <H1>[Peeweelinux] DiskOnChip Boot Problems
   </H1>
    <B>K West
    </B> 
    <A HREF="mailto:peeweelinux%40adis.on.ca"
       TITLE="[Peeweelinux] DiskOnChip Boot Problems">peeweelinux@adis.on.ca
       </A><BR>
    <I>Thu, 06 Jun 2002 16:27:22 -0500</I>
    <P><UL>
        <LI> Previous message: <A HREF="000608.html">[Peeweelinux] kernel 2.4 mini-howto
</A></li>
        <LI> Next message: <A HREF="000610.html">[Peeweelinux] autostart
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#609">[ date ]</a>
              <a href="thread.html#609">[ thread ]</a>
              <a href="subject.html#609">[ subject ]</a>
              <a href="author.html#609">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>For anyone that may be interested, I answered my own question.  The problem 
is the sfdisk command in the PeeWee script pwl_target_load.  The sfdisk 
command attempts to create a partition on the DiskOnChip (DOC) but it 
corrupts the partition table (I think) and renders it unbootable instead.

Be advised that the PeeWee documentation that suggests that all you have to 
do is get the DOC to mount on your development system and PeeWee will do the 
rest is incorrect.  Several script mods are required.

&gt;<i>
</I>&gt;<i>
</I>&gt;<i>I have a PWL file system built and working on a CompactFLASH device.  &gt; I 
</I>&gt;<i>am now trying to move to a DiskOnChip (DOC) device.
</I>&gt;<i>
</I>&gt;<i>I used the latest driver from M-Systems (5.04) and have it working fine on 
</I>&gt;<i>my development system.  I can mount the DOC and PeeWee can build the 
</I>&gt;<i>filesystem on it just like it does on the CFLASH.  The problem occurs when 
</I>&gt;<i>I reboot.  The system displays 'dLIL' and stops.
</I>&gt;<i>
</I>&gt;<i>I've read the 'Bootdisk HOWTO' which indicates that LILO may have a problem 
</I>&gt;<i>with the system map file.  If this is true, I haven't figured out how to 
</I>&gt;<i>correct the problem.
</I>&gt;<i>
</I>&gt;<i>Has anyone else had this experience and managed to solve the problem.
</I>&gt;<i>
</I>&gt;<i>Any suggestions would be appreciated.
</I>

_________________________________________________________________
Send and receive Hotmail on your mobile device: <A HREF="http://mobile.msn.com">http://mobile.msn.com</A>


</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000608.html">[Peeweelinux] kernel 2.4 mini-howto
</A></li>
	<LI> Next message: <A HREF="000610.html">[Peeweelinux] autostart
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#609">[ date ]</a>
              <a href="thread.html#609">[ thread ]</a>
              <a href="subject.html#609">[ subject ]</a>
              <a href="author.html#609">[ author ]</a>
         </LI>
       </UL>
</body></html>
