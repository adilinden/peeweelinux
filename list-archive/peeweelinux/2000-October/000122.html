<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> Configuration problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:peeweelinux%40adis.on.ca">
   <META NAME="robots" CONTENT="index,nofollow">
   
   <LINK REL="Previous"  HREF="000120.html">
   <LINK REL="Next"  HREF="000123.html">
<!-- Google_Analytics -->
 </HEAD>
 <BODY BGCOLOR="#ffffff">
<!-- AdSense_Archive_Slot -->
   <H1>Configuration problem
   </H1>
    <B>Ralph Stickley
    </B> 
    <A HREF="mailto:peeweelinux%40adis.on.ca"
       TITLE="Configuration problem">peeweelinux@adis.on.ca
       </A><BR>
    <I>Fri, 20 Oct 2000 13:46:02 -0700 (PDT)</I>
    <P><UL>
        <LI> Previous message: <A HREF="000120.html">0.53-bin problem
</A></li>
        <LI> Next message: <A HREF="000123.html">swap problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#122">[ date ]</a>
              <a href="thread.html#122">[ thread ]</a>
              <a href="subject.html#122">[ subject ]</a>
              <a href="author.html#122">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dean,
I was able to make this occur using the &quot;check configuration dependancies&quot;
feature. So the fix for this is in pwl_pkgconf (about line 643, where the
selected dependancy files are used to find the package they are contained in)

was:
   grep &quot;$depFn&quot; $PKG_INDEX &gt;&gt; .dep.add

can be fixed with:
   grep &quot;$depFn&quot; $PKG_INDEX | sed &quot;s!packages\/!!g&quot; &gt;&gt; .dep.add

A slight bug since PKG_INDEX contains the full path packages/xxx/fn
and package_add_delete function is expecting xxx/fn..

Hope this helps... 

Later,
Ralph

(Adi - check this out, maybe find a better way to do this; should be a variable
instead of hardcoding the &quot;packages&quot; path in this file - all directories are
defined in pwl_functions...)


--- Dean Brown &lt;<A HREF="mailto:dean@amiga.com">dean@amiga.com</A>&gt; wrote:
&gt;<i> I am having problems extracting a filesystem using the pwlconfig script.
</I>&gt;<i> As can be seen in the following project.conf file the last six lines
</I>&gt;<i> have an incorrect path. 
</I>&gt;<i> 
</I>&gt;<i> ./packages/Editors/vim-ncurses.list
</I>&gt;<i> ./packages/Editors/vim.list
</I>&gt;<i> ./packages/Kernel/kernel-basic-old.list
</I>&gt;<i> ./packages/Kernel/modutils.list
</I>&gt;<i> ./packages/Network/netkit-telnet.list
</I>&gt;<i> ./packages/Network_Base/net-tools.list
</I>&gt;<i> ./packages/Network_Base/netkit-base.list
</I>&gt;<i> ./packages/Network_Base/networkscripts.list
</I>&gt;<i> ./packages/Network_Clients/dhcpcd.list
</I>&gt;<i> ./packages/Network_Serial/mgetty.list
</I>&gt;<i> ./packages/Network_Serial/setserial.list
</I>&gt;<i> ./packages/Shells/bash.list
</I>&gt;<i> ./packages/System_Administration/procps-ncurses.list
</I>&gt;<i> ./packages/System_Base/bdflush.list
</I>&gt;<i> ./packages/System_Base/dev.list
</I>&gt;<i> ./packages/System_Base/filesystem.list
</I>&gt;<i> ./packages/System_Base/initscripts.list
</I>&gt;<i> ./packages/System_Base/ldconfig.list
</I>&gt;<i> ./packages/System_Base/lilo.list
</I>&gt;<i> ./packages/System_Base/mingetty.list
</I>&gt;<i> ./packages/System_Base/sysvinit.list
</I>&gt;<i> ./packages/System_Base/util-linux.list
</I>&gt;<i> ./packages/System_Daemons/sysklogd.list
</I>&gt;<i> ./packages/System_Daemons/vixie-cron.list
</I>&gt;<i> ./packages/System_Libraries/glibc.list
</I>&gt;<i> ./packages/System_Libraries/libtermcap.list
</I>&gt;<i> ./packages/System_Utilities/e2fsprogs.list
</I>&gt;<i> ./packages/System_Utilities/fileutils.list
</I>&gt;<i> ./packages/System_Utilities/gzip.list
</I>&gt;<i> ./packages/System_Utilities/sh-utils.list
</I>&gt;<i> ./packages/System_Utilities/tar.list
</I>&gt;<i> ./packages/X/XFree86-100dpi-fonts.list
</I>&gt;<i> ./packages/X/XFree86-75dpi-fonts.list
</I>&gt;<i> ./packages/X/XFree86-FBDev.list
</I>&gt;<i> ./packages/X/XFree86-SVGA.list
</I>&gt;<i> ./packages/X/XFree86-VGA16.list
</I>&gt;<i> ./packages/X/XFree86-libs.list
</I>&gt;<i> ./packages/X/XFree86-stuff.list
</I>&gt;<i> ./packages/X/XFree86-twm.list
</I>&gt;<i> ./packages/X/XFree86-xdm.list
</I>&gt;<i> ./packages/X/XFree86-xfs.list
</I>&gt;<i> ./packages/X/XFree86.list
</I>&gt;<i> ./packages/X/fvwm2-icons.list
</I>&gt;<i> ./packages/X/fvwm2.list
</I>&gt;<i> ./packages/X_Libraries/xpm.list
</I>&gt;<i> ./packages/packages/System_Administration/procps.list
</I>&gt;<i> ./packages/packages/System_Libraries/libstdc++.list
</I>&gt;<i> ./packages/packages/System_Libraries/ncurses.list
</I>&gt;<i> ./packages/packages/System_Utilities/fileutils.list
</I>&gt;<i> ./packages/packages/System_Utilities/grep.list
</I>&gt;<i> ./packages/packages/X/fvwm2-icons.list
</I>&gt;<i> 
</I>&gt;<i> Ignoring the fact that I'm including way more than necessary for a
</I>&gt;<i> minimal system, is there anything that may be causing this?
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Dean
</I>&gt;<i> ---------------------------------------------------
</I>&gt;<i> See the list archives at <A HREF="http://adis.on.ca/archives/">http://adis.on.ca/archives/</A>
</I>&gt;<i> See the PWL homepage at  <A HREF="http://peeweelinux.com">http://peeweelinux.com</A>
</I>&gt;<i> ---------------------------------------------------
</I>

__________________________________________________
Do You Yahoo!?
Yahoo! Messenger - Talk while you surf!  It's FREE.
<A HREF="http://im.yahoo.com/">http://im.yahoo.com/</A>
---------------------------------------------------
See the list archives at <A HREF="http://adis.on.ca/archives/">http://adis.on.ca/archives/</A>
See the PWL homepage at  <A HREF="http://peeweelinux.com">http://peeweelinux.com</A>
---------------------------------------------------

</PRE>
<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI> Previous message: <A HREF="000120.html">0.53-bin problem
</A></li>
	<LI> Next message: <A HREF="000123.html">swap problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#122">[ date ]</a>
              <a href="thread.html#122">[ thread ]</a>
              <a href="subject.html#122">[ subject ]</a>
              <a href="author.html#122">[ author ]</a>
         </LI>
       </UL>
</body></html>
